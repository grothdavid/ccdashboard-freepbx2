# FreePBX Local Connector Configuration
# Copy this file to .env and modify as needed

# ===== ASTERISK MANAGER INTERFACE (AMI) =====
# AMI connection settings
AMI_HOST=127.0.0.1
AMI_PORT=5038
AMI_USERNAME=dashboard_user
AMI_PASSWORD=change_this_password

# AMI connection timeouts (seconds)
AMI_CONNECT_TIMEOUT=10
AMI_READ_TIMEOUT=30

# ===== MYSQL DATABASE =====
# MySQL connection settings
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3306
MYSQL_USER=dashboard_ro
MYSQL_PASSWORD=change_this_password
MYSQL_DATABASE=asterisk
MYSQL_CDR_DATABASE=asteriskcdr

# MySQL connection timeout (seconds)
MYSQL_CONNECT_TIMEOUT=10

# ===== AZURE DASHBOARD =====
# Azure dashboard URL (optional)
AZURE_DASHBOARD_URL=https://your-dashboard.azurecontainerapps.io

# Azure authentication token
AZURE_AUTH_TOKEN=your-generated-token

# Azure sync interval (seconds)
AZURE_SYNC_INTERVAL=30

# ===== LOCAL WEB SERVER =====
# Web server settings
WEB_SERVER_HOST=127.0.0.1
WEB_SERVER_PORT=8080

# Authentication token for local API
WEB_SERVER_AUTH_TOKEN=your-local-auth-token

# ===== UPDATE INTERVALS =====
# AMI polling interval (seconds)
AMI_POLL_INTERVAL=5

# Configuration sync interval (seconds)
CONFIG_SYNC_INTERVAL=300

# Queue statistics interval (seconds)
QUEUE_STATS_INTERVAL=30

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=60

# ===== LOGGING =====
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/var/log/freepbx-connector/connector.log

# ===== NETWORK SETTINGS =====
# HTTP timeout for Azure requests (seconds)
HTTP_TIMEOUT=30

# Maximum retries for failed requests
MAX_RETRIES=3

# Retry delay (seconds)
RETRY_DELAY=5

# ===== FREEPBX SPECIFIC =====
# FreePBX version compatibility
FREEPBX_VERSION=16

# Device types to monitor (SIP, PJSIP, IAX2)
MONITOR_DEVICE_TYPES=SIP,PJSIP

# Queues to monitor (comma separated, empty for all)
MONITOR_QUEUES=

# Extensions to monitor (range: 1000-1999, empty for all)
MONITOR_EXTENSIONS=

# ===== SYSTEM SETTINGS =====
# Process name for systemd
PROCESS_NAME=freepbx-connector

# PID file location
PID_FILE=/var/run/freepbx-connector.pid

# User to run as (for systemd service)
RUN_AS_USER=asterisk

# Working directory
WORK_DIR=/opt/freepbx-connector