# FreePBX Dashboard Configuration
# Copy this file to .env and modify as needed

# ===== DASHBOARD CONFIGURATION =====
# Port for the dashboard server
PORT=3000

# Environment (development/production)
NODE_ENV=development

# CORS origin (for production, set to your domain)
CORS_ORIGIN=*

# ===== PBX CONNECTOR CONFIGURATION =====
# URL of the local FreePBX connector
PBX_CONNECTOR_ENDPOINT=http://localhost:8080

# Authentication token for connector communication
PBX_CONNECTOR_SECRET=your-generated-secret-token

# ===== AZURE CONFIGURATION (Optional) =====
# Application Insights connection string
APPLICATIONINSIGHTS_CONNECTION_STRING=

# Azure authentication (if using Azure AD)
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT_ID=

# ===== BACKUP MYSQL CONNECTION (Optional) =====
# Direct MySQL connection as backup (read-only)
BACKUP_MYSQL_HOST=your-freepbx-ip
BACKUP_MYSQL_PORT=3306
BACKUP_MYSQL_USER=readonly_user
BACKUP_MYSQL_PASSWORD=readonly_password
BACKUP_MYSQL_DATABASE=asterisk
BACKUP_MYSQL_CDR_DATABASE=asteriskcdr

# ===== LOGGING CONFIGURATION =====
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=false

# ===== PERFORMANCE CONFIGURATION =====
# Update intervals (milliseconds)
DATA_REFRESH_INTERVAL=5000
STATS_REFRESH_INTERVAL=30000

# WebSocket heartbeat interval
WS_HEARTBEAT_INTERVAL=30000

# ===== SECURITY CONFIGURATION =====
# JWT secret for session management
JWT_SECRET=your-jwt-secret-key

# API rate limiting (requests per minute)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# ===== FREEPBX SPECIFIC SETTINGS =====
# Default queue extension prefix
QUEUE_EXTENSION_PREFIX=700

# Default agent extension range
AGENT_EXTENSION_START=1000
AGENT_EXTENSION_END=1999

# Call direction detection
INBOUND_CONTEXTS=from-external,from-pstn,from-trunk
OUTBOUND_CONTEXTS=from-internal,from-queue
INTERNAL_CONTEXTS=from-internal